<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>bdep-init(1) bdep 0.11.0</title>

  <style type="text/css">
/* file      : common.css
 * copyright : Copyright (c) 2014-2019 Code Synthesis Ltd
 * license   : MIT; see accompanying LICENSE file
 */

html
{
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-weight: normal;
  font-size: 18px;
  line-height: 1.4em;
  letter-spacing: 0.01em;

  color: #292929;
}

body {margin: 0;} /* There is non-0 default margin for body. */

/* See notes on what's going on here. */
body {min-width: 17em;}
@media only screen and (min-width: 360px)
{
  body {min-width: 19em;}
}

/*
 * Header (optional).
 */

#header-bar
{
  width: 100%;

  background: rgba(0, 0, 0, 0.04);
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);

  padding: .4em 0 .42em 0;
  margin: 0 0 1.4em 0;
}

#header
{
  /* Same as in #content. */
  max-width: 41em;
  margin: 0 auto 0 auto;
  padding: 0 .4em 0 .4em;

  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;

  width: 100%;
  display: table;
  border: none;
  border-collapse: collapse;
}

#header-logo, #header-menu
{
  display: table-cell;
  border: none;
  padding: 0;
  vertical-align: middle;
}

#header-logo {text-align: left;}
#header-menu {text-align: right;}

/* These overlap with #header's margin because of border collapsing. */
#header-logo {padding-left: .4em;}
#header-menu {padding-right: .4em;}

#header-logo a
{
  color: #000;
  text-decoration: none;
  outline: none;
}
#header-logo a:visited {color: #000;}
#header-logo a:hover, #header-logo a:active {color: #000;}

#header-menu a
{
  font-size: 0.889em;
  line-height: 1.4em;
  text-align: right;
  margin-left: 1.2em;
  white-space: nowrap;
  letter-spacing: 0;
}

#header-menu a
{
  color: #000;
  outline: none;
}
#header-menu a:visited {color: #000;}
#header-menu a:hover, #header-menu a:active
{
  color: #3870c0;
  text-decoration: none;
}

/* Flexbox-based improvements though the above works reasonably well. */
#header-menu-body
{
  width: 100%;

  display: -webkit-inline-flex;
  display: inline-flex;

  -webkit-flex-flow: row wrap;
  flex-flow: row wrap;

  -webkit-justify-content: flex-end;
  justify-content: flex-end;
}

/* Whether we want it (and at which point) depends on the size of the menu. */
/*
@media only screen and (max-width: 567px)
{
  #header-menu-body
  {
    -webkit-flex-direction: column;
    flex-direction: column;
  }
}
*/

/*
 * Content.
 */

#content
{
  max-width: 41em;
  margin: 0 auto 0 auto;
  padding: 0 .4em 0 .4em; /* Space between text and browser frame. */

  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

/*
 * Footer (optional).
 */

#footer
{
  color: #767676;
  font-size: 0.7223em;
  line-height: 1.3em;
  margin: 2.2em 0 1em 0;
  text-align: center;
}

#footer a
{
  color: #767676;
  text-decoration: underline;
}
#footer a:visited {color: #767676;}
#footer a:hover, #footer a:active {color: #3870c0;}

/* Screen size indicator in the footer. The before/after content is in case
   we don't have any content in the footer. Margin is to actually see the
   border separate from the browser frame. */

/*
#footer:before {content: "\A0";}
#footer:after {content: "\A0";}

#footer
{
  border-left: 1px solid;
  border-right: 1px solid;
  margin-left: 1px;
  margin-right: 1px;
}

@media only screen and (max-width: 359px)
{
  #footer {border-color: red;}
}

@media only screen and (min-width: 360px) and (max-width: 567px)
{
  #footer {border-color: orange;}
}

@media only screen and (min-width: 568px) and (max-width: 1023px)
{
  #footer {border-color: blue;}
}

@media only screen and (min-width: 1024px)
{
  #footer {border-color: green;}
}
*/

/*
 * Common elements.
 */

p, li, dd {text-align: justify;}
.code {text-align: left;} /* Manually aligned. */
pre {text-align: left;}   /* If it is inside li/dd. */

/* Notes. */

.note
{
  color: #606060;
}

div.note
{
  margin: 2em 0 2em 0; /* The same top/bottom margings as pre box. */

  padding-left: 0.5em;
  border: 0.25em;
  border-left-style: solid;
  border-color: #808080;

  page-break-inside: avoid;
}

div.note :first-child {margin-top:    0;}
div.note :last-child  {margin-bottom: 0;}

span.note::before {content: "[Note: "}
span.note::after  {content: "]"}

/* Links. */
a
{
  color: #3870c0;
  /*color: #4078c0;*/
  text-decoration: none;
}

a:hover, a:active
{
/*color: #006fbf;*/
/*color: #0087e7;*/
  text-decoration: underline;
}

a:visited
{
/*color: #003388;*/
  color: #00409c;
}

/* Standard paragraph. */

p, pre {margin: 1em 0 1em 0;}

/* Standard lists. */
ul, ol, dl {margin: 1em 0 1em 0;}
ul li, ol li {margin: 0 0 .4em 0;}
ul li {list-style-type: circle;}
dl dt {margin: 0 0 0 0;}
dl dd {margin: 0 0 .6em 1.8em;}

code, pre
{
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 0.92em;
  letter-spacing: 0;
}

pre {white-space: pre-wrap;}

@media only screen and (max-width: 567px)
{
  pre {word-break: break-all;}
}

/* Use page rather than system font settings. */
input
{
  font-family: inherit;
  font-weight: inherit;
  font-size:   inherit;
  line-height: inherit;
}

/* file      : pre-box.css
 * copyright : Copyright (c) 2014-2019 Code Synthesis Ltd
 * license   : MIT; see accompanying LICENSE file
 */

pre
{
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 0.2em;
  padding: .8em .4em .8em .4em;
  margin: 2em -.4em 2em -.4em; /* Use margins of #content. */
}

/* file      : man.css
 * copyright : Copyright (c) 2014-2019 Code Synthesis Ltd
 * license   : MIT; see accompanying LICENSE file
 */

/* Bases:
 *
 * common.css
 * pre-box.css
 *
 */

#content
{
  max-width: 42.1em;
  padding-left: 1.5em; /* Reserve for the heading. */
}

h1
{
  font-weight: normal;
  font-size: 1.58em;
  line-height: 1.4em;
  margin: 1.6em 0 .6em -.88em;
}

/* Definition list for options. */
dl.options dt {margin: 1em 0 0 0;}
dl.options dd {margin: .1em 0 0 4.5em;}

/* Make lists inside option descriptions a tad smaller. */
dl.options dd ul, dl.options dd ol, dl.options dd dl
{
  font-size: 0.889em;
  line-height: 1.4em;
}

  </style>

</head>
<body>
<div id="content">

  <h1>NAME</h1>

  <p><b><code>bdep-init</code></b> &#8211; initialize project in build configurations</p>
  <h1>SYNOPSIS</h1>

  <p class="code"><code><b>bdep init</b> [<i>options</i>] [<i>pkg-spec</i>]
  [<i>cfg-spec</i>] [<i>pkg-args</i>]
  <br/>
  <b>bdep init</b> [<i>options</i>] [<i>prj-spec</i>] <b>--empty|-E</b>
  <br/>
  <b>bdep init</b> [<i>options</i>] [<i>pkg-spec</i>] <b>--config-add|-A</b>
  <i>cfg-dir</i> [<b>@</b><i>cfg-name</i>]
  <br/>
  <b>bdep init</b> [<i>options</i>] [<i>pkg-spec</i>]
  <b>--config-create|-C</b> <i>cfg-dir</i> [<b>@</b><i>cfg-name</i>]
  <br/>
  &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[<i>cfg-args</i>]</code></p>

  <p class="code"><code><i>cfg-spec</i> = (<b>@</b><i>cfg-name</i> |
  <b>--config</b>|<b>-c</b> <i>cfg-dir</i>)... | <b>--all</b>|<b>-a</b>
  <br/>
  <i>pkg-spec</i> = (<b>--directory</b>|<b>-d</b> <i>pkg-dir</i>)... |
  <i>prj-spec</i>
  <br/>
  <i>prj-spec</i> = <b>--directory</b>|<b>-d</b> <i>prj-dir</i>
  <br/>
  <i>pkg-args</i> = (<i>pkg</i> | <i>cfg-var</i>)...
  <br/>
  <i>cfg-args</i> = [<i>bpkg-options</i>] [<b>--existing</b>|<b>-e</b> |
  (<i>module</i> | <i>cfg-var</i>)...]</code></p>

  <h1>DESCRIPTION</h1>

  <p>The <code><b>init</b></code> command initializes a project in one or more
  build configurations. The first form initializes the specified project
  packages (<code><i>pkg-spec</i></code>), or, if the project itself is
  specified (<code><i>prj-spec</i></code>), all its available packages, in one
  or more build configurations (<code><i>cfg-spec</i></code>) that have
  already been associated with the project (<a
  href="bdep-config.xhtml"><code><b>bdep-config(1)</b></code></a>).</p>

  <p>If no project directory is specified, then the current working directory
  is assumed. If no configuration is specified, then the default configuration
  is assumed. See <a
  href="bdep-projects-configs.xhtml"><code><b>bdep-projects-configs(1)</b></code></a>
  for details on specifying projects and configurations. Optional
  <code><i>pkg-args</i></code> are the additional dependency packages and/or
  configuration variables to pass to the underlying <a
  href="../../bpkg/doc/bpkg-pkg-build.xhtml"><code><b>bpkg-pkg-build(1)</b></code></a>
  command.</p>

  <p>The second form (<code><b>--empty</b></code> is specified) initializes an
  empty project database that can later be used to first add build
  configurations (<a
  href="bdep-config.xhtml"><code><b>bdep-config(1)</b></code></a>) and then
  initialize project packages using the first form.</p>

  <p>The third (<code><b>--config-add</b></code>) and fourth
  (<code><b>--config-create</b></code>) forms are shortcuts to first adding an
  existing or newly created build configuration and then initializing project
  packages in that configuration. Semantically they are equivalent to first
  performing the <code><b>config add</b></code> or <code><b>config
  create</b></code> commands (<a
  href="bdep-config.xhtml"><code><b>bdep-config(1)</b></code></a>),
  respectively, followed by the first form. Optional
  <code><i>cfg-args</i></code> in the fourth form are the additional arguments
  to the underlying <a
  href="../../bpkg/doc/bpkg-cfg-create.xhtml"><code><b>bpkg-cfg-create(1)</b></code></a>
  command.</p>

  <h1>EXAMPLES</h1>

  <p>As an example, consider project <code><b>prj</b></code> with two
  packages, <code><b>foo</b></code> and <code><b>libfoo</b></code>:</p>

  <pre>prj/
├── foo/
└── libfoo/</pre>

  <p>The following invocations illustrate the common <code><b>init</b></code>
  use cases (the current working directory is shown before the shell
  prompt).</p>

  <p>Create new build configuration in <code><b>../prj-gcc</b></code>, call it
  <code><b>gcc</b></code>, and initialize project packages
  <code><b>foo</b></code> and <code><b>libfoo</b></code> in this
  configuration:</p>

  <pre>prj/$ bdep init -C ../prj-gcc @gcc cc config.cxx=g++</pre>

  <p>Create new build configuration in <code><b>../prj-clang</b></code> using
  <a
  href="../../bpkg/doc/bpkg-cfg-create.xhtml"><code><b>bpkg-cfg-create(1)</b></code></a>.
  Then add it calling it <code><b>clang</b></code> and initialize project
  package <code><b>foo</b></code> in this configuration:</p>

  <pre>prj/$ bpkg create -d ../prj-clang cc config.cxx=clang++
prj/$ cd foo
foo/$ bdep init -A ../../prj-clang @clang</pre>

  <p>Initialize project package <code><b>libfoo</b></code> in the build
  configuration <code><b>clang</b></code>:</p>

  <pre>foo/$ cd ..
prj/$ bdep init -d libfoo @clang</pre>

  <p>The following set of invocations achieves the same end result but using
  the <a href="bdep-config.xhtml"><code><b>bdep-config(1)</b></code></a>
  command to manage configuration.</p>

  <p>Initialize an empty project database:</p>

  <pre>prj/$ bdep init --empty</pre>

  <p>Create new build configuration in <code><b>../prj-gcc</b></code>, call it
  <code><b>gcc</b></code>:</p>

  <pre>prj/$ bdep config create ../prj-gcc @gcc cc config.cxx=g++</pre>

  <p>Add existing build configuration in <code><b>../prj-clang</b></code>,
  call it <code><b>clang</b></code>.</p>

  <pre>prj/$ bdep config add ../prj-clang @clang</pre>

  <p>Initialize project packages <code><b>foo</b></code> and
  <code><b>libfoo</b></code> in build configurations <code><b>gcc</b></code>
  and <code><b>clang</b></code>.</p>

  <pre>prj/$ bdep init @gcc @clang</pre>

  <p>Or, alternatively, in all the build configurations:</p>

  <pre>prj/$ bdep init -a</pre>

  <h1>INIT OPTIONS</h1>

  <dl class="options">
    <dt><code><b>--empty</b></code>|<code><b>-E</b></code></dt>
    <dd>Initialize an empty build configuration set.</dd>

    <dt><code><b>--config-add</b></code>|<code><b>-A</b></code> <code><i>dir</i></code></dt>
    <dd>Add an existing build configuration <code><i>dir</i></code>.</dd>

    <dt><code><b>--config-create</b></code>|<code><b>-C</b></code> <code><i>dir</i></code></dt>
    <dd>Create a new build configuration in <code><i>dir</i></code>.</dd>

    <dt><code><b>--default</b></code></dt>
    <dd>Make the added or created configuration the default.</dd>

    <dt><code><b>--no-default</b></code></dt>
    <dd>Don't make the first added or created configuration the default.</dd>

    <dt><code><b>--forward</b></code></dt>
    <dd>Make the added or created configuration forwarded.</dd>

    <dt><code><b>--no-forward</b></code></dt>
    <dd>Don't make the added or created configuration forwarded.</dd>

    <dt><code><b>--auto-sync</b></code></dt>
    <dd>Make the added or created configuration automatically
    synchronized.</dd>

    <dt><code><b>--no-auto-sync</b></code></dt>
    <dd>Don't make the added or created configuration automatically
    synchronized.</dd>

    <dt><code><b>--existing</b></code>|<code><b>-e</b></code></dt>
    <dd>Initialize a <code><b>bpkg</b></code> configuration based on an
    existing build system configuration.</dd>

    <dt><code><b>--wipe</b></code></dt>
    <dd>Wipe the configuration directory clean before creating the new
    configuration.</dd>

    <dt><code><b>--all</b></code>|<code><b>-a</b></code></dt>
    <dd>Use all build configurations.</dd>

    <dt><code><b>--config</b></code>|<code><b>-c</b></code> <code><i>dir</i></code></dt>
    <dd>Specify the build configuration as a directory.</dd>

    <dt><code><b>--directory</b></code>|<code><b>-d</b></code> <code><i>dir</i></code></dt>
    <dd>Assume project/package is in the specified directory rather than in
    the current working directory.</dd>

    <dt><code><b>--config-name</b></code>|<code><b>-n</b></code> <code><i>name</i></code></dt>
    <dd>Specify the build configuration as a name.</dd>

    <dt><code><b>--config-id</b></code> <code><i>num</i></code></dt>
    <dd>Specify the build configuration as an id.</dd>
  </dl>

  <h1>COMMON OPTIONS</h1>

  <p>The common options are summarized below with a more detailed description
  available in <a
  href="bdep-common-options.xhtml"><code><b>bdep-common-options(1)</b></code></a>.</p>

  <dl class="options">
    <dt><code><b>-v</b></code></dt>
    <dd>Print essential underlying commands being executed.</dd>

    <dt><code><b>-V</b></code></dt>
    <dd>Print all underlying commands being executed.</dd>

    <dt><code><b>--quiet</b></code>|<code><b>-q</b></code></dt>
    <dd>Run quietly, only printing error messages.</dd>

    <dt><code><b>--verbose</b></code> <code><i>level</i></code></dt>
    <dd>Set the diagnostics verbosity to <code><i>level</i></code> between 0
    and 6.</dd>

    <dt><code><b>--jobs</b></code>|<code><b>-j</b></code> <code><i>num</i></code></dt>
    <dd>Number of jobs to perform in parallel.</dd>

    <dt><code><b>--no-progress</b></code></dt>
    <dd>Suppress progress indicators for long-lasting operations, such as
    network transfers, building, etc.</dd>

    <dt><code><b>--bpkg</b></code> <code><i>path</i></code></dt>
    <dd>The package manager program to be used for build configuration
    management.</dd>

    <dt><code><b>--bpkg-option</b></code> <code><i>opt</i></code></dt>
    <dd>Additional option to be passed to the package manager program.</dd>

    <dt><code><b>--build</b></code> <code><i>path</i></code></dt>
    <dd>The build program to be used to build packages.</dd>

    <dt><code><b>--build-option</b></code> <code><i>opt</i></code></dt>
    <dd>Additional option to be passed to the build program.</dd>

    <dt><code><b>--curl</b></code> <code><i>path</i></code></dt>
    <dd>The curl program to be used for network operations.</dd>

    <dt><code><b>--curl-option</b></code> <code><i>opt</i></code></dt>
    <dd>Additional option to be passed to the curl program.</dd>

    <dt><code><b>--pager</b></code> <code><i>path</i></code></dt>
    <dd>The pager program to be used to show long text.</dd>

    <dt><code><b>--pager-option</b></code> <code><i>opt</i></code></dt>
    <dd>Additional option to be passed to the pager program.</dd>

    <dt><code><b>--options-file</b></code> <code><i>file</i></code></dt>
    <dd>Read additional options from <code><i>file</i></code>.</dd>
  </dl>

  <h1>BUGS</h1>

  <p>Send bug reports to the
  <a href="mailto:users@build2.org">users@build2.org</a> mailing list.</p>

</div>

<div id="footer">
&#169; 2014-2019 Code Synthesis Ltd<br/>
Permission is granted to copy, distribute and/or modify this document under
the terms of the MIT License.
</div>

</body>
</html>
